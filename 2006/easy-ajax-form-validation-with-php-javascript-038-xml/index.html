<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Easy AJAX form validation with PHP, Javascript, &#038; XML · Scribbles & Bits</title><meta name="description" content="Easy AJAX form validation with PHP, Javascript, &amp;#038; XML - Derek Gathright"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://derek.io/blog/atom.xml" title="Scribbles &amp; Bits"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/derek" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Easy AJAX form validation with PHP, Javascript, &#038; XML</h1><div class="post-info">Feb 13, 2006</div><div class="post-content"><p>One of the more recent coding projects I’ve been working on is the redesign of the our customer signup process at work. During this process, a lot of data validation &amp; integrity needs to take place from the user entered information coming from the HTML forms. For a PHP/Javascript coder, this scenario has always meant, “Do I validate in PHP? Javascript? Both?”  PHP gives you database access but it comes at the price of having to submit the page. Plus, you have to build in extra navigation logic which can sometimes be messy. Javascript is quick &amp; easy, but can be unreliable (user can turn javascript off) and you do not get any access to a database. If you do both, then you split up the validation between specific fields and that becomes flat out messy.</p>
<p>So which route did I go to accomplish this validation task? None.  Well, actually all of them, but not by the traditional means. Rather, the best method I found here was to use an AJAX method and split the display (HTML), trasportation (Javascript), and validation (PHP) layers up and keep them completely seperate. By using this method you have a lot of advantages;</p>
<ul>
<li>Because AJAX is as asynchronous, user does not have to submit the form (and wait for a reload). The less clicks for the user, the better.</li>
<li>It makes the experience is as smooth as possible for the user</li>
<li>Seperation of view (HTML), transportation (javascript), and validation (PHP) layers to make coding much cleaner.</li>
</ul>
<p>Once I had an understanding of what I needed to build, here  is the basic outline of the steps needed to design this app…</p>
<ul>
<li>Be able to convert the HTML form into XML</li>
<li>Use the XMLHTTPRequest object to POST an XML string to a PHP script</li>
<li>Within PHP, validate data using regular expressions and database queries</li>
<li>Denote valid &amp; invalid data values only by adding “valid” and “error_message” attributes to the element nodes and not altering any of the original XML data.</li>
<li>Send the same (but slightly modified) XML document back to the Javascript</li>
<li>Within Javascript, determine what (if any) errors the user may have with the data entered</li>
<li>Inform user of errors</li>
</ul>
<p>I also had the goal of making this validation process as portable/reuseable as possible and be able to add it to any form by only adding a “onsubmit()” attribute to the HTML form and the error message &lt;div&gt; to the HTML document.  Aside from that, everything else takes care of itself in terms of XML creation, validation, error message(s) being displayed, and the input boxes being highlighted within the form.</p>
<p>So here’s a <a href="/demo/validation/form.html" target="_blank"><strong>link</strong></a> of a stripped down version of what was built.  It isn’t pretty and isn’t meant to show off my design skills.  Rather is it designed to demo the functionality and behavior of the script, and then provide the source code (with comments) to build a much more useful app on top of the existing code.  Play around with it, modify it, break it, &amp; fix it. That is usually the best way to learn.</p>
<p>Post in the comments below or email me if you have any questions</p>
<p>(Update: I just checked the example page for the first time in a long time, and something is broken.   I’ll update again when it is fixed.)</p>
</div></article></div></main><footer><div class="paginator"><a href="/2006/i-m-in-96-5-s-prom-court/" class="prev">prev_post</a><a href="/2006/php5-with-1-038-1-hosting/" class="next">next_post</a></div><div class="copyright"><p>© 2005 - 2018 <a href="http://derek.io/blog">Derek Gathright</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>